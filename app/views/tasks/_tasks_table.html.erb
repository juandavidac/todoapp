<table>
  <thead>
    <tr>
      <th>Content</th>
      <th>State</th>
      <th colspan="5"></th>
    </tr>
  </thead>

  <tbody>
    <% tasks.each do |task| %>
      <tr>
        <td><%= task.content %></td>
        <td><%= task.state %></td>
        <td><%= link_to 'Show', task %></td>
        <td><%= link_to 'Edit', edit_task_path(task) %></td>
        <td><%= link_to 'Destroy', task, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% if tasks==@to_do %>
          <td><%= link_to 'Mark as Doing', change_task_path(task, state: "doing"), method: :put %></td>
          <td><%= link_to 'Mark as Done', change_task_path(task, state: "done"), method: :put%></td>
        <%elsif tasks==@doing%>
          <td><%= link_to 'Mark as To do', change_task_path(task, state: "to_do"), method: :put%></td>
          <td><%= link_to 'Mark as Done', change_task_path(task,state: "done") , method: :put%></td>
        <%elsif tasks==@done%>
          <td><%= link_to 'Mark as Doing', change_task_path(task, state: "doing"), method: :put %></td>
          <td><%= link_to 'Mark as To do', change_task_path(task, state: "to_do"), method: :put%></td>
        <%end%>
      </tr>
    <% end %>
  </tbody>
</table>
